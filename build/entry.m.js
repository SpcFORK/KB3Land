const __Oak_Modules={};let __Oak_Import_Aliases;function __oak_modularize(name,fn){__Oak_Modules[name]=fn}function __oak_module_import(name){if(typeof __Oak_Modules[name]==="object")return __Oak_Modules[name];const module=__Oak_Modules[name]||__Oak_Modules[__Oak_Import_Aliases[name]];if(module){__Oak_Modules[name]={};return __Oak_Modules[name]=module()}else{throw new Error(`Could not import Oak module "${name}" at runtime`)}}let __oak_empty_assgn_tgt;function __oak_eq(a,b){if(a===__Oak_Empty||b===__Oak_Empty)return true;if(a==null&&b==null)return true;if(a==null||b==null)return false;if(typeof a==="boolean"||typeof a==="number"||typeof a==="symbol"||typeof a==="function"){return a===b}a=__as_oak_string(a);b=__as_oak_string(b);if(typeof a!==typeof b)return false;if(__is_oak_string(a)&&__is_oak_string(b)){return a.valueOf()===b.valueOf()}if(len(a)!==len(b))return false;for(const key of keys(a)){if(!__oak_eq(a[key],b[key]))return false}return true}function __oak_acc(tgt,prop){return(__is_oak_string(tgt)?__as_oak_string(tgt.valueOf()[prop]):tgt[prop])??null}function __oak_obj_key(x){return typeof x==="symbol"?Symbol.keyFor(x):x}function __oak_push(a,b){a=__as_oak_string(a);a.push(b);return a}function __oak_and(a,b){if(typeof a==="boolean"&&typeof b==="boolean"){return a&&b}if(__is_oak_string(a)&&__is_oak_string(b)){const max=Math.max(a.length,b.length);const get=(s,i)=>s.valueOf().charCodeAt(i)||0;let res="";for(let i=0;i<max;i++){res+=String.fromCharCode(get(a,i)&get(b,i))}return res}return a&b}function __oak_or(a,b){if(typeof a==="boolean"&&typeof b==="boolean"){return a||b}if(__is_oak_string(a)&&__is_oak_string(b)){const max=Math.max(a.length,b.length);const get=(s,i)=>s.valueOf().charCodeAt(i)||0;let res="";for(let i=0;i<max;i++){res+=String.fromCharCode(get(a,i)|get(b,i))}return res}return a|b}function __oak_xor(a,b){if(typeof a==="boolean"&&typeof b==="boolean"){return a&&!b||!a&&b}if(__is_oak_string(a)&&__is_oak_string(b)){const max=Math.max(a.length,b.length);const get=(s,i)=>s.valueOf().charCodeAt(i)||0;let res="";for(let i=0;i<max;i++){res+=String.fromCharCode(get(a,i)^get(b,i))}return res}return a^b}const __Oak_Empty=Symbol("__Oak_Empty");function __is_oak_string(x){if(x==null)return false;return x.__mark_oak_string}function __as_oak_string(x){if(typeof x==="string")return __Oak_String(x);return x}const __Oak_String=s=>{return{__mark_oak_string:true,assign(i,slice){if(i===s.length)return s+=slice;return s=s.substr(0,i)+slice+s.substr(i+slice.length)},push(slice){s+=slice},toString(){return s},valueOf(){return s},get length(){return s.length}}};function __oak_resolve_trampoline(fn,...args){let rv=fn(...args);while(rv&&rv.__is_oak_trampoline){rv=rv.fn(...rv.args)}return rv}function __oak_trampoline(fn,...args){return{__is_oak_trampoline:true,fn:fn,args:args}}const __Is_Oak_Node=typeof process==="object";const __Oak_Int_RE=/^[+-]?\d+$/;function int(x){x=__as_oak_string(x);if(typeof x==="number"){const rounded=Math.floor(x);const diff=x-rounded;if(x<0&&diff===.5)return rounded+1;return rounded}if(__is_oak_string(x)&&__Oak_Int_RE.test(x.valueOf())){const i=Number(x.valueOf());if(isNaN(i))return null;return i}return null}function float(x){x=__as_oak_string(x);if(typeof x==="number")return x;if(__is_oak_string(x)){const f=parseFloat(x.valueOf());if(isNaN(f))return null;return f}return null}function atom(x){x=__as_oak_string(x);if(typeof x==="symbol"&&x!==__Oak_Empty)return x;if(__is_oak_string(x))return Symbol.for(x.valueOf());return Symbol.for(string(x))}function string(x){x=__as_oak_string(x);function display(x){x=__as_oak_string(x);if(__is_oak_string(x)){return"'"+x.valueOf().replace("\\","\\\\").replace("'","\\'")+"'"}else if(typeof x==="symbol"){if(x===__Oak_Empty)return"_";return":"+Symbol.keyFor(x)}return string(x)}if(x==null){return"?"}else if(typeof x==="number"){return x.toString()}else if(__is_oak_string(x)){return x}else if(typeof x==="boolean"){return x.toString()}else if(typeof x==="function"){return x.toString()}else if(typeof x==="symbol"){if(x===__Oak_Empty)return"_";return Symbol.keyFor(x)}else if(Array.isArray(x)){return"["+x.map(display).join(", ")+"]"}else if(typeof x==="object"){const entries=[];for(const key of keys(x).sort()){entries.push(`${key}: ${display(x[key])}`)}return"{"+entries.join(", ")+"}"}throw new Error("string() called on unknown type "+x.toString())}function codepoint(c){c=__as_oak_string(c);return c.valueOf().charCodeAt(0)}function char(n){return String.fromCharCode(n)}function type(x){x=__as_oak_string(x);if(x==null){return Symbol.for("null")}else if(typeof x==="number"){if(Number.isInteger(x))return Symbol.for("int");return Symbol.for("float")}else if(__is_oak_string(x)){return Symbol.for("string")}else if(typeof x==="boolean"){return Symbol.for("bool")}else if(typeof x==="symbol"){if(x===__Oak_Empty)return Symbol.for("empty");return Symbol.for("atom")}else if(typeof x==="function"){return Symbol.for("function")}else if(Array.isArray(x)){return Symbol.for("list")}else if(typeof x==="object"){return Symbol.for("object")}throw new Error("type() called on unknown type "+x.toString())}function len(x){if(typeof x==="string"||__is_oak_string(x)||Array.isArray(x)){return x.length}else if(typeof x==="object"&&x!==null){return Object.getOwnPropertyNames(x).length}throw new Error("len() takes a string or composite value, but got "+string(x))}function keys(x){if(Array.isArray(x)){const k=[];for(let i=0;i<x.length;i++)k.push(i);return k}else if(typeof x==="object"&&x!==null){return Object.getOwnPropertyNames(x).map(__as_oak_string)}throw new Error("keys() takes a composite value, but got "+string(x).valueOf())}function args(){if(__Is_Oak_Node)return process.argv.map(__as_oak_string);return[window.location.href]}function env(){if(__Is_Oak_Node){const e=Object.assign({},process.env);for(const key in e){e[key]=__as_oak_string(e[key])}return e}return{}}function time(){return Date.now()/1e3}function nanotime(){return int(Date.now()*1e6)}function rand(){return Math.random()}let randomBytes;function srand(length){if(__Is_Oak_Node){if(!randomBytes)randomBytes=require("crypto").randomBytes;return randomBytes(length).toString("latin1")}const bytes=crypto.getRandomValues(new Uint8Array(length));return __as_oak_string(Array.from(bytes).map(b=>String.fromCharCode(b)).join(""))}function wait(duration,cb){setTimeout(cb,duration*1e3);return null}function exit(code){if(__Is_Oak_Node)process.exit(code);return null}function exec(){throw new Error("exec() not implemented")}function input(){throw new Error("input() not implemented")}function print(s){s=__as_oak_string(s);if(__Is_Oak_Node){process.stdout.write(string(s).toString())}else{console.log(string(s).toString())}return s.length}function ls(){throw new Error("ls() not implemented")}function rm(){throw new Error("rm() not implemented")}function mkdir(){throw new Error("mkdir() not implemented")}function stat(){throw new Error("stat() not implemented")}function open(){throw new Error("open() not implemented")}function close(){throw new Error("close() not implemented")}function read(){throw new Error("read() not implemented")}function write(){throw new Error("write() not implemented")}function listen(){throw new Error("listen() not implemented")}function req(){throw new Error("req() not implemented")}function sin(n){return Math.sin(n)}function cos(n){return Math.cos(n)}function tan(n){return Math.tan(n)}function asin(n){return Math.asin(n)}function acos(n){return Math.acos(n)}function atan(n){return Math.atan(n)}function pow(b,n){return Math.pow(b,n)}function log(b,n){return Math.log(n)/Math.log(b)}function ___runtime_lib(){throw new Error("___runtime_lib() not implemented")}function ___runtime_lib__oak_qm(){throw new Error("___runtime_lib?() not implemented")}function ___runtime_gc(){throw new Error("___runtime_gc() not implemented")}function ___runtime_mem(){throw new Error("___runtime_mem() not implemented")}function call(target,fn,...args){return target[Symbol.keyFor(fn)](...args)}function __oak_js_new(Constructor,...args){return new Constructor(...args)}function __oak_js_try(fn){try{return{type:Symbol.for("ok"),ok:fn()}}catch(e){return{type:Symbol.for("error"),error:e}}}__oak_modularize(__Oak_String(`scenes/blocks/Ti.oak`),function _(){return((DTP__oak_exclam,PPS__oak_exclam,dtWait,math,std)=>(std=__oak_module_import(__Oak_String(`std`)),math=__oak_module_import(__Oak_String(`math`)),PPS__oak_exclam=function PPS__oak_exclam(pixels=null){return pixels*60},DTP__oak_exclam=function DTP__oak_exclam(pixels=null){return PPS__oak_exclam(pixels)*dt()},dtWait=function dtWait(s=null,cb=null){return((DTWUE__oak_exclam,initialTime,rt)=>(initialTime=std.clone(s),rt=null,DTWUE__oak_exclam=onUpdate(function _(){return initialTime=initialTime-dt(),(__oak_cond=>__oak_eq(__oak_cond,true)?(DTWUE__oak_exclam.cancel(),rt=cb(s)):null)(initialTime<=0)}),function _(){return rt}))()},{DTP__oak_exclam:DTP__oak_exclam,PPS__oak_exclam:PPS__oak_exclam,dtWait:dtWait,math:math,std:std}))()}),__oak_modularize(__Oak_String(`scenes/blocks/Transition.oak`),function _(){return((Transition,std)=>(std=__oak_module_import(__Oak_String(`std`)),Transition=function Transition(color_=null,tw=null){return((createFG,fadeOut,self)=>(color_=std.__oak_js_default(color_,BLACK),tw=std.__oak_js_default(tw,easings.easeOutSine??null),self={},createFG=function createFG(){return add([rect(width(),height()),color(color_),opacity(1),pos(camPos()),anchor(s(__Oak_String(`center`)))])},((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(tr,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.tr:__oak_assgn_tgt.tr=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(self),createFG()),fadeOut=function fadeOut(sp=null){return(self.tr??null).fadeOut(sp)},((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(fadeIn,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.fadeIn:__oak_assgn_tgt.fadeIn=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(self),function _(speed=null,color=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(self.tr??null).use(color):null)(!__oak_eq(color,null)),(self.tr??null).use(fadeIn(speed))}),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(fadeOut,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.fadeOut:__oak_assgn_tgt.fadeOut=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(self),function _(speed=null,color=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(self.tr??null).use(color):null)(!__oak_eq(color,null)),(self.tr??null).fadeOut(speed)}),self))()},{Transition:Transition,std:std}))()}),__oak_modularize(__Oak_String(`scenes/blocks/shakey.oak`),function _(){return(shakey=>(shakey=function shakey(obj=null){return((STOP,draw_,off,ogp,on,returns,set,toggle)=>(ogp=obj.pos??null,STOP=false,draw_=function draw_(){return(__oak_cond=>__oak_eq(__oak_cond,true)?((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(pos,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.pos:__oak_assgn_tgt.pos=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(obj),ogp.clone().add(rand(),rand())):null)(!STOP)},returns=obj.onUpdate(draw_),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(shakeyMod,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.shakeyMod:__oak_assgn_tgt.shakeyMod=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(obj),{set:set=function set(v=null){return STOP=v},toggle:toggle=function toggle(){return set(!STOP)},on:on=function on(){return set(true)},off:off=function off(){return set(false)},returns:returns,cancel:returns.cancel??null,remove:function _(){return off(),cancel()}}),returns))()},{shakey:shakey}))()}),__oak_modularize(__Oak_String(`scenes/init/main.oak`),function _(){return((DTP__oak_exclam,Entrance,Exit,Floor,Invis,Level1,MovingCrate,PPS__oak_exclam,Transition,War3MC,_MovingCamTranst,dtWait,isMobile__oak_qm,makePlayer,math,mcndef,rnd,sFloor,spr,std,tempUpdate)=>({Transition}=__oak_module_import(__Oak_String(`scenes/blocks/Transition.oak`)),{War3MC}=__oak_module_import(__Oak_String(`scenes/ware/WarMovement.oak`)),{DTP__oak_exclam,PPS__oak_exclam,dtWait}=__oak_module_import(__Oak_String(`scenes/blocks/Ti.oak`)),std=__oak_module_import(__Oak_String(`std`)),math=__oak_module_import(__Oak_String(`math`)),rnd=__oak_module_import(__Oak_String(`random`)),mcndef=function mcndef(v=null){return std.__oak_js_default(v,1)},spr=OKloadSprite(__Oak_String(`bean`),__Oak_String(`/sprites/bean.png`)),isMobile__oak_qm=function isMobile__oak_qm(){return(userAgent=>(userAgent=(globalThis.navigator??null).userAgent??null,(__oak_cond=>__oak_eq(__oak_cond,true)?true:false)(str.contains__oak_qm(userAgent,__Oak_String(`Mobi`)))))()},tempUpdate=function tempUpdate(time=null,cb=null){return((END,EOF,RUNNING__oak_qm,ou_ec,self)=>(RUNNING__oak_qm=true,EOF=null,ou_ec=onUpdate(cb),END=function END(){return(__oak_cond=>__oak_eq(__oak_cond,true)?(ou_ec.cancel(),RUNNING__oak_qm=false,(__oak_cond=>__oak_eq(__oak_cond,true)?EOF():null)(!__oak_eq(EOF,null))):null)(RUNNING__oak_qm)},self={EV:ou_ec,time:time,running:function _(){return RUNNING__oak_qm},eof:function _(){return EOF},onFinish:function _(cb=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?EOF=cb:null)(RUNNING__oak_qm)},finish:END},wait(time,END),self))()},makePlayer=function makePlayer(){return add([sprite(spr),pos(),area(),body(),opacity(),anchor(s(__Oak_String(`center`))),s(__Oak_String(`P`))])},MovingCrate=function MovingCrate(p=null,x=null,y=null,ws=null,hs=null,grab__oak_qm=null,smash__oak_qm=null,isStatic__oak_qm=null){return((COLS,addVel,box,color__oak_exclam,fallingTooLong__oak_qm,realignBoxAngle)=>(color__oak_exclam=function color__oak_exclam(v=null){return color(s(v))},COLS=[color__oak_exclam(__Oak_String(`#EEB76B`)),color__oak_exclam(__Oak_String(`#E2703A`)),color__oak_exclam(__Oak_String(`#9C3D54`)),color__oak_exclam(__Oak_String(`#310B0B`))],x=mcndef(x),y=mcndef(y),ws=mcndef(ws),hs=mcndef(hs),box=p.add([__oak_acc(COLS,0),s(Symbol.for("SOLID")),outline(4),(__oak_cond=>__oak_eq(__oak_cond,true)?s(Symbol.for("WAR_GRAB")):null)(grab__oak_qm),(__oak_cond=>__oak_eq(__oak_cond,true)?s(Symbol.for("WAR_SMASH")):null)(smash__oak_qm),rect(50*ws,50*hs),pos(x,y),body({isStatic:isStatic__oak_qm}),rotate(0),area(),anchor(s(__Oak_String(`center`)))]),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(BRATE,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.BRATE:__oak_assgn_tgt.BRATE=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box),vec2(2,2)),addVel=function addVel(){return(GREH__oak_exclam=>(((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box.vel??null),-((box.vel??null).y??null)-DTP__oak_exclam(300)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box.vel??null),__as_oak_string(((box.vel??null).x??null)+DTP__oak_exclam(100)*rnd.choice([-1,1]))),GREH__oak_exclam=box.onGround(function _(){return GREH__oak_exclam.cancel(),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box.vel??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box.vel??null),0)})))()},((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(whenHeadbutt,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.whenHeadbutt:__oak_assgn_tgt.whenHeadbutt=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box),function _(pl=null){return(p_dir=>(addVel(),p_dir=(__oak_cond=>__oak_eq(__oak_cond,true)?-1:__oak_eq(__oak_cond,false)?1:null)(pl.flipX??null),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box.vel??null),((box.vel??null).x??null)*rnd.choice([-1,1,p_dir]))))()}),box.onGround(function _(){return play(s(__Oak_String(`land`)))}),box.onUpdate(function _(){return(landedOn__oak_qm=>(landedOn__oak_qm=box.curPlatform(),(__oak_cond=>__oak_eq(__oak_cond,true)?addVel():null)((__oak_left=>__oak_left===false?false:__oak_and(__oak_left,landedOn__oak_qm.is(s(Symbol.for("P")))))(!__oak_eq(landedOn__oak_qm,null)))))()}),fallingTooLong__oak_qm=function fallingTooLong__oak_qm(){return(__oak_cond=>__oak_eq(__oak_cond,true)?wait(dt()*10,function _(){return(__oak_cond=>__oak_eq(__oak_cond,true)?((FallGE__oak_exclam,FallUL__oak_exclam,randomDir)=>(randomDir=rnd.choice([-1,1]),FallUL__oak_exclam=box.onUpdate(function _(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(angle,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.angle:__oak_assgn_tgt.angle=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box),__as_oak_string((box.angle??null)+math.round(5*dt()*randomDir)))}),FallGE__oak_exclam=box.onGround(function _(){return FallGE__oak_exclam.cancel(),FallUL__oak_exclam.cancel()})))():null)(box.isFalling())}):null)(box.isFalling())},realignBoxAngle=function realignBoxAngle(nA=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(sideA=>(sideA=nA/90,(__oak_cond=>__oak_eq(__oak_cond,true)?sideA=__as_oak_string(sideA+1):null)(int(sideA)<sideA),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(angle,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.angle:__oak_assgn_tgt.angle=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(box),int(sideA)*90)))():null)(__oak_eq(!nA%90,0))},box.onUpdate(function _(){return fallingTooLong__oak_qm(),(__oak_cond=>__oak_eq(__oak_cond,true)?realignBoxAngle(box.angle??null):null)(box.isGrounded())}),box.onCollide(s(Symbol.for("SOLID")),function _(ob=null){return realignBoxAngle(-(ob.angle??null))})))()},Floor=function Floor(p=null,x=null,y=null,w=null,h=null){return(f=>(x=mcndef(x),y=mcndef(y),w=mcndef(w),h=mcndef(h),f=p.add([rect(w,h),outline(4),area(),s(Symbol.for("SOLID")),pos(x,y),body({isStatic:true})]),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(mass,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.mass:__oak_assgn_tgt.mass=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(f),100),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(WALKSOUND,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.WALKSOUND:__oak_assgn_tgt.WALKSOUND=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(f),s(__Oak_String(`walk`))),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(WALKOPTIONS,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.WALKOPTIONS:__oak_assgn_tgt.WALKOPTIONS=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(f),{volume:.4})))()},sFloor=function sFloor(p=null,x=null,y=null,w=null,h=null){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(isStatic,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.isStatic:__oak_assgn_tgt.isStatic=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(Floor(p,x,y,w,h)),false)},Invis=function Invis(p=null,x=null,y=null,w=null,h=null){return x=mcndef(x),y=mcndef(y),w=mcndef(w),h=mcndef(h),p.add([rect(w,h),area(),s(Symbol.for("SOLID")),pos(x,y),body({isStatic:true})])},_MovingCamTranst=function _MovingCamTranst(modecb__oak_qm=null){return function _(cb=null){return((TUH,time__oak_exclam,tr)=>(tr=Transition(),time__oak_exclam=.2,__oak_acc(tr,__oak_obj_key(modecb__oak_qm))(time__oak_exclam),TUH=tempUpdate(time__oak_exclam*2,function _(){return(pos__oak_exclam=>(pos__oak_exclam=camPos(0,0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string((tr.tr??null).pos??null),pos__oak_exclam.x??null),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string((tr.tr??null).pos??null),pos__oak_exclam.y??null),(tr.tr??null).use(z(999))))()}),TUH.onFinish(function _(){return wait(time__oak_exclam,function _(){return(tr.tr??null).remove()}),cb()})))()}},Entrance=_MovingCamTranst(__Oak_String(`fadeOut`)),Exit=_MovingCamTranst(__Oak_String(`fadeIn`)),Level1=function Level1(){return((CAMstart,bean)=>(bean=makePlayer(),War3MC(bean),setGravity(1600),lvl=add([s(__Oak_String(`level`)),s(__Oak_String(`Level1`))]),Invis(lvl,-width()*5/2,-90,50,height()*4),Floor(lvl,-width()*5/2,90,width()*5,height()),MovingCrate(lvl,30,20,2,1,true,true),CAMstart=function CAMstart(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(CAM,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.CAM:__oak_assgn_tgt.CAM=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(bean),true)},Entrance(CAMstart)))()},scene(__Oak_String(`menu`),function _(){return wait(5,function _(){return((WAIT_TIME,tr)=>(WAIT_TIME=.2,tr=Transition(),tr.fadeOut(WAIT_TIME),wait(WAIT_TIME*10,function _(){return go(__Oak_String(`intro`))})))()})}),scene(__Oak_String(`init`),function _(){return go(__Oak_String(`intro`))}),scene(__Oak_String(`intro`),function _(){return Level1()}),{DTP__oak_exclam:DTP__oak_exclam,Entrance:Entrance,Exit:Exit,Floor:Floor,Invis:Invis,Level1:Level1,MovingCrate:MovingCrate,PPS__oak_exclam:PPS__oak_exclam,Transition:Transition,War3MC:War3MC,_MovingCamTranst:_MovingCamTranst,dtWait:dtWait,isMobile__oak_qm:isMobile__oak_qm,makePlayer:makePlayer,math:math,mcndef:mcndef,rnd:rnd,sFloor:sFloor,spr:spr,std:std,tempUpdate:tempUpdate}))()}),__oak_modularize(__Oak_String(`scenes/main.oak`),function _(){return((bseq,init)=>(init=__oak_module_import(__Oak_String(`scenes/init/main.oak`)),bseq=__oak_module_import(__Oak_String(`scenes/oc_bootseq/main.oak`)),go(__Oak_String(`boot__`)),{bseq:bseq,init:init}))()}),__oak_modularize(__Oak_String(`scenes/oc_bootseq/main.oak`),function _(){return((Transition,newCut,oK_,shakey,std)=>({Transition}=__oak_module_import(__Oak_String(`scenes/blocks/Transition.oak`)),std=__oak_module_import(__Oak_String(`std`)),{newCut}=__oak_module_import(__Oak_String(`scenes/ware/cutscene.oak`)),{shakey}=__oak_module_import(__Oak_String(`scenes/blocks/shakey.oak`)),oK_=OKloadSprite(__Oak_String(`oakcart`),__Oak_String(`/sprites/oakcart.png`)),scene(__Oak_String(`boot__`),function _(){return((CANCELLED__oak_qm,cutsc,cutsc_scale,logo_,setOpac)=>(setBackground(WHITE),logo_=add([sprite(oK_,{width:200}),pos(center()),anchor(s(__Oak_String(`center`))),opacity(0)]),CANCELLED__oak_qm=false,setOpac=function setOpac(opac=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(opacity,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.opacity:__oak_assgn_tgt.opacity=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(logo_),opac):null)(!CANCELLED__oak_qm)},cutsc=newCut(),cutsc_scale=newCut(),(cutsc_scale.sh??null).step(2),cutsc_scale.Cutscene([[.05,.7],[.05,.9],[.05,1]],function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(scale,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.scale:__oak_assgn_tgt.scale=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(logo_),i):null)(!CANCELLED__oak_qm)}),(cutsc.sh??null).step(2),cutsc.Cutscene([[.1,.2],[.1,.7],[.1,1],[3,.6],[.5,.3],[.5,.15],[.5,0],[.3,function _(){return Transition(BLACK).fadeIn(2)}],[__as_oak_string(2+2),function _(){return go(__Oak_String(`init`))}]],setOpac),onKeyPress(s(__Oak_String(`enter`)),function _(){return(__oak_cond=>__oak_eq(__oak_cond,true)?(CANCELLED__oak_qm=true,go(__Oak_String(`init`))):null)(!CANCELLED__oak_qm)})))()}),{Transition:Transition,newCut:newCut,oK_:oK_,shakey:shakey,std:std}))()}),__oak_modularize(__Oak_String(`scenes/ware/WarMovement.oak`),function _(){return((CHARGE,COLORS,CONTACT,DTP__oak_exclam,JUMP,LAND,LSAND,PICKUP,PPS__oak_exclam,SANDY,SMALL,THROW,WACKY,WALK,War3MC,dtWait,math,rnd,snd,std)=>(std=__oak_module_import(__Oak_String(`std`)),math=__oak_module_import(__Oak_String(`math`)),rnd=__oak_module_import(__Oak_String(`random`)),{DTP__oak_exclam,PPS__oak_exclam,dtWait}=__oak_module_import(__Oak_String(`scenes/blocks/Ti.oak`)),snd=function snd(name=null){return loadSound(s(name),s(__oak_push(__oak_push(__Oak_String(`sounds/`),name),__Oak_String(`.wav`))))},THROW=snd(__Oak_String(`throw`)),PICKUP=snd(__Oak_String(`pickup`)),LAND=snd(__Oak_String(`land`)),JUMP=snd(__Oak_String(`jump`)),CONTACT=snd(__Oak_String(`contact`)),CHARGE=snd(__Oak_String(`charge`)),LSAND=snd(__Oak_String(`lsand`)),SANDY=snd(__Oak_String(`sandy`)),SMALL=snd(__Oak_String(`small`)),WACKY=snd(__Oak_String(`wacky`)),WALK=snd(__Oak_String(`walk`)),COLORS=[color(255,0,255),color(255,255,0),color(255,255,255),color(0,0,255)],War3MC=function War3MC(ss=null){return((CHARGESound__oak_qm,JUMPSOUND,JumpS_END,LE__oak_exclam,Lift,Throw,WALKSound__oak_qm,isIDLE,moveCam,playWSnd,strpress,strpress__oak_exclam,strunpress,walkSoundFullStop)=>(strpress=function strpress(key=null,cb=null){return ss.onKeyDown(s(key),cb)},strunpress=function strunpress(key=null,cb=null){return ss.onKeyRelease(s(key),cb)},strpress__oak_exclam=function strpress__oak_exclam(key=null,cb=null){return ss.onKeyPress(s(key),cb)},((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(MAXMASS,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.MAXMASS:__oak_assgn_tgt.MAXMASS=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),2),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(RESETMASS,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.RESETMASS:__oak_assgn_tgt.RESETMASS=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),1),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(SPEED,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.SPEED:__oak_assgn_tgt.SPEED=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),480),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(CAMSPEED,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.CAMSPEED:__oak_assgn_tgt.CAMSPEED=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),5),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(DASHLEN,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.DASHLEN:__oak_assgn_tgt.DASHLEN=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),1),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(mass,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.mass:__oak_assgn_tgt.mass=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),ss.RESETMASS??null),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(CAMBOUNDS,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.CAMBOUNDS:__oak_assgn_tgt.CAMBOUNDS=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),{x:null,y:null,w:null,h:null}),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(moving,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.moving:__oak_assgn_tgt.moving=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),{x:0}),moveCam=function moveCam(){return(TW=>(TW=null,(__oak_cond=>__oak_eq(__oak_cond,true)?((BOUNDH,BOUNDW,BOUNDX,BOUNDY,X,Y,nX,nY,ssCamClone,vec__oak_exclam)=>((__oak_cond=>__oak_eq(__oak_cond,true)?TW.finish():null)(!__oak_eq(TW,null)),X=(ss.pos??null).x??null,Y=(ss.pos??null).y??null,ssCamClone=std.clone(ss.CAMBOUNDS??null),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssCamClone),std.__oak_js_default(ssCamClone.x??null,-9999)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssCamClone),std.__oak_js_default(ssCamClone.y??null,-9999)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(w,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.w:__oak_assgn_tgt.w=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssCamClone),std.__oak_js_default(ssCamClone.w??null,9999)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(h,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.h:__oak_assgn_tgt.h=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssCamClone),std.__oak_js_default(ssCamClone.h??null,9999)),BOUNDX=__as_oak_string((ssCamClone.x??null)+width()/2),BOUNDY=__as_oak_string((ssCamClone.y??null)+height()/2),BOUNDW=(ssCamClone.w??null)-width()/2,BOUNDH=(ssCamClone.h??null)-height()/2,nX=math.clamp(X,BOUNDX,BOUNDW),nY=math.clamp(Y,BOUNDY,BOUNDH),vec__oak_exclam=vec2(nX,nY),TW=tween(camPos(),vec__oak_exclam,(ss.CAMSPEED??null)/(ss.pos??null).dist(camPos()),function _(v=null){return camPos(v)},easings.easeOutQuad??null),TW.onEnd(function _(){return TW=null})))():null)(ss.CAM??null)))()},ss.onUpdate(moveCam),WALKSound__oak_qm=null,walkSoundFullStop=function walkSoundFullStop(){return(__oak_cond=>__oak_eq(__oak_cond,true)?WALKSound__oak_qm.stop():null)(!__oak_eq(WALKSound__oak_qm,null)),WALKSound__oak_qm=null},playWSnd=function playWSnd(key__oak_exclam=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_cond=>__oak_eq(__oak_cond,true)?((curPF,floorOpts,floorSound,snd)=>(curPF=ss.curPlatform(),floorSound=std.__oak_js_default(curPF.WALKSOUND??null,s(__Oak_String(`sandy`))),floorOpts=std.__oak_js_default(curPF.WALKOPTIONS??null,{}),snd=play(floorSound,floorOpts),WALKSound__oak_qm=snd,snd.onEnd(walkSoundFullStop)))():null)(__oak_eq(WALKSound__oak_qm,null)):__oak_eq(__oak_cond,false)?walkSoundFullStop():null)((__oak_left=>__oak_left===false?false:__oak_and(__oak_left,ss.isGrounded()))(!(ss.DASHING??null)))},((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(WALKING,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.WALKING:__oak_assgn_tgt.WALKING=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false),isIDLE=function isIDLE(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.moving??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(WALKING,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.WALKING:__oak_assgn_tgt.WALKING=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false),walkSoundFullStop()},strpress(__Oak_String(`a`),function _(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(flipX,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.flipX:__oak_assgn_tgt.flipX=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.moving??null),-1),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(WALKING,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.WALKING:__oak_assgn_tgt.WALKING=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true),ss.move(-(ss.SPEED??null),0),playWSnd(__Oak_String(`a`))}),strpress(__Oak_String(`d`),function _(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(flipX,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.flipX:__oak_assgn_tgt.flipX=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.moving??null),1),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(WALKING,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.WALKING:__oak_assgn_tgt.WALKING=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true),ss.move(ss.SPEED??null,0),playWSnd(__Oak_String(`d`))}),strunpress(__Oak_String(`a`),isIDLE),strunpress(__Oak_String(`d`),isIDLE),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(DASHING,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.DASHING:__oak_assgn_tgt.DASHING=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(MAYDASH__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.MAYDASH__oak_qm:__oak_assgn_tgt.MAYDASH__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true),ss.use(color(WHITE)),CHARGESound__oak_qm=null,strpress__oak_exclam(__Oak_String(`;`),function _(){return(__oak_cond=>__oak_eq(__oak_cond,true)?((BounceOb,BouncePlayer,ECH__oak_exclam,WECH__oak_exclam,collideSoundEvent,dir,dirVal,end,state)=>(walkSoundFullStop(),CHARGESound__oak_qm=play(s(__Oak_String(`charge`)),{loop:true}),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(DASHING,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.DASHING:__oak_assgn_tgt.DASHING=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true),TIMED=false,((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(MAYDASH__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.MAYDASH__oak_qm:__oak_assgn_tgt.MAYDASH__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false),dtWait(ss.DASHLEN??null,function _(){return TIMED=true}),dir=ss.flipX??null,dirVal=(__oak_cond=>__oak_eq(__oak_cond,true)?-1:1)(dir),ss.onHeadbutt(function _(obj=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?obj.whenHeadbutt(ss):null)(!__oak_eq(obj.whenHeadbutt??null,null))}),collideSoundEvent=function collideSoundEvent(RATEX=null,RATEY=null,ob=null){return((RATEX__oak_qm,RATEY__oak_qm,mass__oak_qm)=>(RATEX__oak_qm=std.__oak_js_default(RATEX,5),RATEY__oak_qm=std.__oak_js_default(RATEY,5),mass__oak_qm=std.__oak_js_default(ob.mass??null,5),play(s(__Oak_String(`contact`)),{speed:__as_oak_string(1+RATEY__oak_qm*RATEX__oak_qm*mass__oak_qm/50),volume:.8})))()},BouncePlayer=function BouncePlayer(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.vel??null),DTP__oak_exclam(500)*-dirVal),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.vel??null),DTP__oak_exclam(500)),ss.jump(DTP__oak_exclam(200)),collideSoundEvent(null,null,ss),ssGEH__oak_exclam=ss.onGround(function _(){return ssGEH__oak_exclam.cancel(),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.vel??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.vel??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(MAYDASH__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.MAYDASH__oak_qm:__oak_assgn_tgt.MAYDASH__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true)})},BounceOb=function BounceOb(ob=null,dr__oak_qm=null){return((BOECH__oak_exclam,RATEX,RATEY,bounceEventsCancel)=>(RATEX=std.__oak_js_default((ob.BRATE??null).x??null,5),RATEY=std.__oak_js_default((ob.BRATE??null).y??null,5),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob.vel??null),DTP__oak_exclam(500)/(RATEX*(ob.mass??null)/2)*dr__oak_qm),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob.vel??null),DTP__oak_exclam(500)/(RATEY*(ob.mass??null))),(__oak_cond=>__oak_eq(__oak_cond,true)?ob.jump():null)(!__oak_eq(ob.jump??null,null)),collideSoundEvent(RATEX,RATEY,ob),bounceEventsCancel=function bounceEventsCancel(){return BOECH__oak_exclam.cancel(),obGEH__oak_exclam.cancel()},BOECH__oak_exclam=ob.onCollide(s(Symbol.for("SOLID")),function _(solidWall=null){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob.vel??null),-((ob.vel??null).x??null)/2),play(s(__Oak_String(`land`)))}),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(CHARGETHROW,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.CHARGETHROW:__oak_assgn_tgt.CHARGETHROW=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(THROWN,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.THROWN:__oak_assgn_tgt.THROWN=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob),true)),obGEH__oak_exclam=ob.onGround(function _(){return bounceEventsCancel(),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(CHARGETHROW,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.CHARGETHROW:__oak_assgn_tgt.CHARGETHROW=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(THROWN,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.THROWN:__oak_assgn_tgt.THROWN=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob),false)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob.vel??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ob.vel??null),0)})))()},((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.pos??null),((ss.pos??null).x??null)-dirVal*10),ECH__oak_exclam=ss.onCollide(s(Symbol.for("WAR_SMASH")),function _(ob=null){let ABOVE_GROUND__oak_qm;let CLOSE_ENOUGH__oak_qm;return(__oak_cond=>__oak_eq(__oak_cond,CLOSE_ENOUGH__oak_qm=(ss.pos??null).dist((ss.pos??null).x??null,(ob.pos??null).y??null)<50)?(end(),BouncePlayer(),BounceOb(ob,dirVal)):__oak_eq(__oak_cond,ABOVE_GROUND__oak_qm=((ob.pos??null).y??null)<__as_oak_string(((ss.pos??null).y??null)+(ss.height??null)/2))?(end(),BouncePlayer(),BounceOb(ob,dirVal)):__oak_eq(__oak_cond,(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,ABOVE_GROUND__oak_qm))(CLOSE_ENOUGH__oak_qm))?(end(),BouncePlayer(),BounceOb(ob,dirVal)):null)(true)}),WECH__oak_exclam=ss.onCollide(s(Symbol.for("SOLID")),function _(ob=null){let ABOVE_GROUND__oak_qm;let CLOSE_ENOUGH__oak_qm;return(__oak_cond=>__oak_eq(__oak_cond,CLOSE_ENOUGH__oak_qm=(ss.pos??null).dist((ss.pos??null).x??null,(ob.pos??null).y??null)<20)?(end(),BouncePlayer()):__oak_eq(__oak_cond,ABOVE_GROUND__oak_qm=((ob.pos??null).y??null)<__as_oak_string(((ss.pos??null).y??null)+1))?(end(),BouncePlayer()):__oak_eq(__oak_cond,(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,ABOVE_GROUND__oak_qm))(CLOSE_ENOUGH__oak_qm))?(end(),BouncePlayer()):null)(true)}),state=ss.onUpdate(function _(){return ss.use(std.clone(rnd.choice(COLORS))),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.vel??null),DTP__oak_exclam(5)*dirVal),(__oak_cond=>__oak_eq(__oak_cond,true)?(end(),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(MAYDASH__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.MAYDASH__oak_qm:__oak_assgn_tgt.MAYDASH__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true)):null)(!__oak_eq(dir,ss.flipX??null)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss.pos??null),__as_oak_string(((ss.pos??null).x??null)+dt()*((ss.SPEED??null)/2)*dirVal)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(mass,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.mass:__oak_assgn_tgt.mass=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),ss.MAXMASS??null),(__oak_cond=>__oak_eq(__oak_cond,true)?WALKSound__oak_qm.stop():null)(!__oak_eq(WALKSound__oak_qm,null)),(__oak_cond=>__oak_eq(__oak_cond,true)?(((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(MAYDASH__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.MAYDASH__oak_qm:__oak_assgn_tgt.MAYDASH__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true),end()):null)((__oak_left=>__oak_left===false?false:__oak_and(__oak_left,TIMED))(ss.isGrounded()))}),end=std.once(function _(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(DASHING,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.DASHING:__oak_assgn_tgt.DASHING=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false),state.cancel(),ECH__oak_exclam.cancel(),WECH__oak_exclam.cancel(),state=null,ECH__oak_exclam=null,WECH__oak_exclam=null,CHARGESound__oak_qm.stop(),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(color,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.color:__oak_assgn_tgt.color=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),WHITE),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(mass,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.mass:__oak_assgn_tgt.mass=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),ss.RESETMASS??null)})))():null)((__oak_left=>__oak_left===false?false:__oak_and(__oak_left,ss.MAYDASH__oak_qm??null))(!(ss.DASHING??null)))}),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(LIFTING__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.LIFTING__oak_qm:__oak_assgn_tgt.LIFTING__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(LIFTINGMASS__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.LIFTINGMASS__oak_qm:__oak_assgn_tgt.LIFTINGMASS__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),1),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(LIFT_EV,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.LIFT_EV:__oak_assgn_tgt.LIFT_EV=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),null),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(CUR_LIFTING__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.CUR_LIFTING__oak_qm:__oak_assgn_tgt.CUR_LIFTING__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),null),LE__oak_exclam=null,Lift=function Lift(){return(LooseEH__oak_exclam=>(LooseEH__oak_exclam=ss.onUpdate(function _(){return(__oak_cond=>__oak_eq(__oak_cond,true)?(LE__oak_exclam.cancel(),LE__oak_exclam=null):null)((__oak_left=>__oak_left===false?false:__oak_and(__oak_left,isKeyReleased(s(__Oak_String(`l`)))))((__oak_left=>__oak_left===false?false:__oak_and(__oak_left,!__oak_eq(LE__oak_exclam,null)))(!(ss.LIFTING__oak_qm??null))))}),LE__oak_exclam=ss.onCollide(s(Symbol.for("WAR_GRAB")),function _(o1=null){return(canLift__oak_qm=>(canLift__oak_qm=(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,((o1.pos??null).y??null)<__as_oak_string(((ss.pos??null).y??null)+(ss.height??null)/2)))((o1.pos??null).dist(vec2((ss.pos??null).x??null,(o1.pos??null).y??null))<__as_oak_string(65+(ss.height??null)/2)),(__oak_cond=>__oak_eq(__oak_cond,true)?(LE__oak_exclam.cancel(),LE__oak_exclam=null,((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(CUR_LIFTING__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.CUR_LIFTING__oak_qm:__oak_assgn_tgt.CUR_LIFTING__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),o1),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(LIFTING__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.LIFTING__oak_qm:__oak_assgn_tgt.LIFTING__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),true),(__oak_cond=>__oak_eq(__oak_cond,true)?((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(gravityScale,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.gravityScale:__oak_assgn_tgt.gravityScale=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(o1),0):null)(!__oak_eq(o1.gravityScale??null,null)),play(s(__Oak_String(`pickup`))),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(LIFT_EV,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.LIFT_EV:__oak_assgn_tgt.LIFT_EV=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),o1.onUpdate(function _(){return(fixedYPos=>(fixedYPos=((ss.pos??null).y??null)-45-(o1.height??null)/2,o1.moveTo(__as_oak_string(((ss.pos??null).x??null)+__as_oak_string(25+(o1.width??null)/4)*((ss.moving??null).x??null)),fixedYPos,1e3),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(o1.pos??null),fixedYPos)))()}))):null)(canLift__oak_qm)))()})))()},Throw=function Throw(){return((CE__oak_exclam,TE__oak_exclam,addVel,cancelAll__oak_exclam,initTime,mX,mY,phase1,phase2,phase3,ssTHROWN)=>(initTime=time(),ssTHROWN=ss.CUR_LIFTING__oak_qm??null,((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),0),mX=250,mY=25,addVel=function addVel(){return(mXYc=>(mXYc=1.7,mX=mX*mXYc,mY=mY*mXYc))()},phase1=std.once(function _(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(color,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.color:__oak_assgn_tgt.color=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),__oak_js_new(Color,255,255/2,0)),addVel()}),phase2=std.once(function _(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(color,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.color:__oak_assgn_tgt.color=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),__oak_js_new(Color,255,192,203)),addVel()}),phase3=std.once(function _(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(color,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.color:__oak_assgn_tgt.color=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),YELLOW),addVel()}),CE__oak_exclam=ss.onUpdate(function _(){return(__oak_cond=>__oak_eq(__oak_cond,true)?((elapsed,resTime)=>(resTime=time(),elapsed=resTime-initTime,(__oak_cond=>__oak_eq(__oak_cond,true)?phase1():null)(elapsed>.5),(__oak_cond=>__oak_eq(__oak_cond,true)?phase2():null)(elapsed>1),(__oak_cond=>__oak_eq(__oak_cond,true)?phase3():null)(elapsed>1.5)))():cancelAll__oak_exclam())(ss.LIFTING__oak_qm??null)}),TE__oak_exclam=strunpress(__Oak_String(`l`),function _(){return((BONUS_SPEED,ThrowDirVal,elapsed,resTime)=>(cancelAll__oak_exclam(),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(color,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.color:__oak_assgn_tgt.color=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),WHITE),play(s(__Oak_String(`throw`))),(__oak_cond=>__oak_eq(__oak_cond,true)?((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(gravityScale,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.gravityScale:__oak_assgn_tgt.gravityScale=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN),1):null)(!__oak_eq(ssTHROWN.gravityScale??null,null)),resTime=time(),elapsed=resTime-initTime,(__oak_cond=>__oak_eq(__oak_cond,true)?(mY=__as_oak_string(mY+DTP__oak_exclam(300)),mX=mX/4):null)(isKeyDown(s(__Oak_String(`w`)))),ThrowDirVal=(__oak_cond=>__oak_eq(__oak_cond,true)?-1:1)(ss.flipX??null),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),__as_oak_string(((ssTHROWN.vel??null).x??null)+mX*ThrowDirVal)),BONUS_SPEED=DTP__oak_exclam(200)*((ss.moving??null).x??null),(__oak_cond=>__oak_eq(__oak_cond,ss.WALKING??null)?(((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),__as_oak_string(((ssTHROWN.vel??null).x??null)+BONUS_SPEED)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),__as_oak_string(((ssTHROWN.vel??null).y??null)+BONUS_SPEED/2))):__oak_eq(__oak_cond,ss.DASHING??null)?(((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),__as_oak_string(((ssTHROWN.vel??null).x??null)+BONUS_SPEED)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),__as_oak_string(((ssTHROWN.vel??null).y??null)+BONUS_SPEED))):null)(true),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),((ssTHROWN.vel??null).y??null)-mY),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(THROWN,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.THROWN:__oak_assgn_tgt.THROWN=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN),true),ssTHROWN.onGround(function _(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(THROWN,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.THROWN:__oak_assgn_tgt.THROWN=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN),false),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(x,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.x:__oak_assgn_tgt.x=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),0),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(y,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.y:__oak_assgn_tgt.y=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ssTHROWN.vel??null),0)}),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(CUR_LIFTING__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.CUR_LIFTING__oak_qm:__oak_assgn_tgt.CUR_LIFTING__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),null)))()}),cancelAll__oak_exclam=function cancelAll__oak_exclam(){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(LIFTING__oak_qm,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.LIFTING__oak_qm:__oak_assgn_tgt.LIFTING__oak_qm=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false),CE__oak_exclam.cancel(),TE__oak_exclam.cancel(),(ss.LIFT_EV??null).cancel()}))()},strpress__oak_exclam(__Oak_String(`l`),function _(){return(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_cond=>__oak_eq(__oak_cond,true)?Lift():null)(__oak_eq(LE__oak_exclam,null)):Throw())(!(ss.LIFTING__oak_qm??null))}),JUMPSOUND=null,JumpS_END=function JumpS_END(){return JUMPSOUND=null},strpress__oak_exclam(__Oak_String(`space`),function _(){return(__oak_cond=>__oak_eq(__oak_cond,true)?(tmpjsnd=>((__oak_cond=>__oak_eq(__oak_cond,true)?tmpjsnd=play(s(__Oak_String(`jump`))):null)(__oak_eq(JUMPSOUND,null)),JUMPSOUND=tmpjsnd,tmpjsnd.onEnd(JumpS_END),ss.jump()))():null)(ss.isGrounded())}),ss.onGround(function _(){return play(s(__Oak_String(`land`))),JumpS_END()}),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(GROUNDPOUND,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.GROUNDPOUND:__oak_assgn_tgt.GROUNDPOUND=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(ss),false)))()},{CHARGE:CHARGE,COLORS:COLORS,CONTACT:CONTACT,DTP__oak_exclam:DTP__oak_exclam,JUMP:JUMP,LAND:LAND,LSAND:LSAND,PICKUP:PICKUP,PPS__oak_exclam:PPS__oak_exclam,SANDY:SANDY,SMALL:SMALL,THROW:THROW,WACKY:WACKY,WALK:WALK,War3MC:War3MC,dtWait:dtWait,math:math,rnd:rnd,snd:snd,std:std}))()}),__oak_modularize(__Oak_String(`scenes/ware/cutscene.oak`),function _(){return((Cutscene,_MAKE_Cutscene,_sh,_sw,newCut,std,stp)=>(std=__oak_module_import(__Oak_String(`std`)),stp=__oak_module_import(__Oak_String(`web/step.oak`)),_sh=stp.createStepper(),_sw=_sh.sw??null,_MAKE_Cutscene=function _MAKE_Cutscene(sh=null,sw=null){let Cutscene;return Cutscene=function Cutscene(val=null,passthru=null){return std.each(val,function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("function"))?sw(__oak_acc(i,0),__oak_acc(i,1)):sw(__oak_acc(i,0),function _(){return passthru(__oak_acc(i,1),[sh,sw])}))(type(__oak_acc(i,1)))})}},Cutscene=_MAKE_Cutscene(_sh,_sw),newCut=function newCut(){return((sh,sw)=>({sh:sh=stp.createStepper(),sw:sw=sh.sw??null,Cutscene:_MAKE_Cutscene(sh,sw)}))()},{Cutscene:Cutscene,_MAKE_Cutscene:_MAKE_Cutscene,_sh:_sh,_sw:_sw,newCut:newCut,std:std,stp:stp}))()}),__oak_modularize(__Oak_String(`web/entry.oak`),function _(){return((canvasBorder,canvasPos,fmt,gameHeight,gameWidth,json,oaka,path,scenes,std,str,updateCanvas,vv,worldify)=>(std=__oak_module_import(__Oak_String(`std`)),str=__oak_module_import(__Oak_String(`str`)),json=__oak_module_import(__Oak_String(`json`)),fmt=__oak_module_import(__Oak_String(`fmt`)),path=__oak_module_import(__Oak_String(`path`)),oaka=__oak_module_import(__Oak_String(`web/oaka.oak`)),kaboom({width:600,height:500}),vv=visualViewport,gameWidth=canvas.width??null,gameHeight=canvas.height??null,worldify=function worldify(){return{x:(vv.width??null)/2-gameWidth/2,y:(vv.height??null)/2-gameHeight/2}},canvasPos=null,canvasBorder=null,((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(backgroundColor,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.backgroundColor:__oak_assgn_tgt.backgroundColor=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string((document.body??null).style??null),__Oak_String(`#000`)),updateCanvas=function updateCanvas(){return canvasPos=worldify(),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(display,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.display:__oak_assgn_tgt.display=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(canvas.style??null),__Oak_String(`flex`)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(position,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.position:__oak_assgn_tgt.position=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(canvas.style??null),__Oak_String(`absolute`)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(left,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.left:__oak_assgn_tgt.left=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(canvas.style??null),__as_oak_string(s(canvasPos.x??null)+__Oak_String(`px`))),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(top,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.top:__oak_assgn_tgt.top=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(canvas.style??null),__as_oak_string(s(canvasPos.y??null)+__Oak_String(`px`))),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(transform,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt.transform:__oak_assgn_tgt.transform=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(canvas.style??null),__Oak_String(`
    scale(1.25)
  `))},updateCanvas(),scenes=__oak_module_import(__Oak_String(`scenes/main.oak`)),{canvasBorder:canvasBorder,canvasPos:canvasPos,fmt:fmt,gameHeight:gameHeight,gameWidth:gameWidth,json:json,oaka:oaka,path:path,scenes:scenes,std:std,str:str,updateCanvas:updateCanvas,vv:vv,worldify:worldify}))()}),__oak_modularize(__Oak_String(`web/oaka.oak`),function _(){return((abstr__oak_qm,assign,clense,__oak_js_do,fmt,json,kb,loadSprite,onKeyDown,path,s,sprite,std,str,w,windowBind,windowFullscreen__oak_qm)=>(std=__oak_module_import(__Oak_String(`std`)),str=__oak_module_import(__Oak_String(`str`)),json=__oak_module_import(__Oak_String(`json`)),fmt=__oak_module_import(__Oak_String(`fmt`)),path=__oak_module_import(__Oak_String(`path`)),w=window,windowBind=function windowBind(...fns){return std.each(fns,function _(it=null){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(it.name??null,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(it.name??null)]:__oak_assgn_tgt[__oak_obj_key(it.name??null)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(window),it),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(__as_oak_string(__Oak_String(`OK`)+(it.name??null)),__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(__as_oak_string(__Oak_String(`OK`)+(it.name??null)))]:__oak_assgn_tgt[__oak_obj_key(__as_oak_string(__Oak_String(`OK`)+(it.name??null)))]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(window),it),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(it.name??null,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(it.name??null)]:__oak_assgn_tgt[__oak_obj_key(it.name??null)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(globalThis),it),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(__as_oak_string(__Oak_String(`OK`)+(it.name??null)),__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(__as_oak_string(__Oak_String(`OK`)+(it.name??null)))]:__oak_assgn_tgt[__oak_obj_key(__as_oak_string(__Oak_String(`OK`)+(it.name??null)))]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(globalThis),it)})},windowBind(s=function s(pl=null){return string(pl).toString()},kb=function kb(func=null,pls=null){return(strings=>(strings=std.map(pls,function _(it=null,i__oak_qm=null){return s(it)}),func(...strings)))()},__oak_js_do=function __oak_js_do(code=null){return eval(s(code))},assign=function assign(name=null,code=null){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(string(name),__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(string(name))]:__oak_assgn_tgt[__oak_obj_key(string(name))]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(w),__oak_js_do(code))},abstr__oak_qm=function abstr__oak_qm(thing=null,op=null){return(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("string"))?op(thing):null)(type(thing))},windowFullscreen__oak_qm=function windowFullscreen__oak_qm(){return __oak_eq(window.innerHeight??null,screen.height??null)},clense=function clense(args=null,pos=null){return abstr__oak_qm(__oak_acc(args,__oak_obj_key(pos)),function _(it=null){return it=s(it)})},sprite=function sprite(...args){return clense(args,0),w.sprite(...args)},loadSprite=function loadSprite(...args){return kb(w.loadSprite??null,args)},onKeyDown=function onKeyDown(...args){return clense(args,0),w.onKeyDown(...args)}),{abstr__oak_qm:abstr__oak_qm,assign:assign,clense:clense,__oak_js_do:__oak_js_do,fmt:fmt,json:json,kb:kb,loadSprite:loadSprite,onKeyDown:onKeyDown,path:path,s:s,sprite:sprite,std:std,str:str,w:w,windowBind:windowBind,windowFullscreen__oak_qm:windowFullscreen__oak_qm}))()}),__oak_modularize(__Oak_String(`web/self.oak`),function _(){return(createSelf=>(createSelf=function createSelf(){return((reco,th_)=>(th_={},{reco:reco=function reco(key=null,val=null){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(key,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(key)]:__oak_assgn_tgt[__oak_obj_key(key)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(th_),val)},set:function _(key=null,val=null){return reco(key,val),val},get:function _(key=null){return __oak_acc(th_,__oak_obj_key(key))},__oak_js_this:function _(){return th_}}))()},{createSelf:createSelf}))()}),__oak_modularize(__Oak_String(`web/step.oak`),function _(){return((createStepper,mainThread,self)=>(self=__oak_module_import(__Oak_String(`web/self.oak`)),createStepper=function createStepper(){return((get,reset,set,step,step_self,sw)=>(step_self=self.createSelf(),step_self.set(__Oak_String(`stepNum`),0),{get:get=function get(){return step_self.get(__Oak_String(`stepNum`))},set:set=function set(am=null){return step_self.set(__Oak_String(`stepNum`),am)},step:step=function step(am=null){return set(__as_oak_string(get()+am))},reset:reset=function reset(){return set(0)},sw:sw=function sw(am=null,cb=null){return wait(step(am),function _(){return cb(get())})}}))()},mainThread=createStepper(),{createStepper:createStepper,mainThread:mainThread,self:self}))()}),__oak_modularize(__Oak_String(`fmt`),function _(){return((__oak_js_default,format,printf,println)=>({println,__oak_js_default}=__oak_module_import(__Oak_String(`std`)),format=function format(raw=null,...values){return((buf,key,sub,value,which)=>(which=0,key=__Oak_String(``),buf=__Oak_String(``),value=__oak_js_default(__oak_acc(values,0),{}),sub=function sub(idx=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(idx=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(c=>(c=__oak_acc(raw,__oak_obj_key(idx)),(__oak_cond=>__oak_eq(__oak_cond,0)?(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`{`))?which=1:__oak_push(buf,c))(c):__oak_eq(__oak_cond,1)?(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`{`))?which=2:(__oak_push(__oak_push(buf,__Oak_String(`{`)),c),which=0))(c):__oak_eq(__oak_cond,2)?(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`}`))?(index=>(index=int(key),__oak_push(buf,string((__oak_cond=>__oak_eq(__oak_cond,__oak_eq(key,__Oak_String(``)))?__Oak_String(``):__oak_eq(__oak_cond,__oak_eq(index,null))?__oak_acc(value,__oak_obj_key(key)):__oak_acc(values,__oak_obj_key(index)))(true))),key=__Oak_String(``),which=3))():__oak_eq(__oak_cond,__Oak_String(` `))?null:__oak_eq(__oak_cond,__Oak_String(`	`))?null:key=__as_oak_string(key+c))(c):__oak_eq(__oak_cond,3)?(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`}`))?which=0:null)(c):null)(which),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(idx+1))))():buf)(idx<len(raw))},__oak_resolve_trampoline(__oak_trampolined_sub,idx)))()},sub(0)))()},printf=function printf(raw=null,...values){return println(format(raw,...values))},{__oak_js_default:__oak_js_default,format:format,printf:printf,println:println}))()}),__oak_modularize(__Oak_String(`json`),function _(){return((Reader,_parseReader,__oak_js_default,esc,escape,join,map,parse,parseFalse,parseList,parseNull,parseNumber,parseObject,parseString,parseTrue,serialize,slice,space__oak_qm)=>({__oak_js_default,slice,map}=__oak_module_import(__Oak_String(`std`)),{space__oak_qm,join}=__oak_module_import(__Oak_String(`str`)),esc=function esc(c=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`	`))?__Oak_String(`\\t`):__oak_eq(__oak_cond,__Oak_String(`
`))?__Oak_String(`\\n`):__oak_eq(__oak_cond,__Oak_String(`
`))?__Oak_String(`\\r`):__oak_eq(__oak_cond,__Oak_String(``))?__Oak_String(`\\f`):__oak_eq(__oak_cond,__Oak_String(`"`))?__Oak_String(`\\"`):__oak_eq(__oak_cond,__Oak_String(`\\`))?__Oak_String(`\\\\`):c)(c)},escape=function escape(s=null){return((max,sub)=>(max=len(s),sub=function sub(i=null,acc=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null,acc=null){return(__oak_cond=>__oak_eq(__oak_cond,max)?acc:__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1),__oak_push(acc,esc(__oak_acc(s,__oak_obj_key(i))))))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,i,acc)))()},sub(0,__Oak_String(``))))()},serialize=function serialize(c=null){return(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("null"))?__Oak_String(`null`):__oak_eq(__oak_cond,Symbol.for("empty"))?__Oak_String(`null`):__oak_eq(__oak_cond,Symbol.for("function"))?__Oak_String(`null`):__oak_eq(__oak_cond,Symbol.for("string"))?__oak_push(__oak_push(__Oak_String(`"`),escape(c)),__Oak_String(`"`)):__oak_eq(__oak_cond,Symbol.for("atom"))?__oak_push(__oak_push(__Oak_String(`"`),string(c)),__Oak_String(`"`)):__oak_eq(__oak_cond,Symbol.for("int"))?string(c):__oak_eq(__oak_cond,Symbol.for("float"))?string(c):__oak_eq(__oak_cond,Symbol.for("bool"))?string(c):__oak_eq(__oak_cond,Symbol.for("list"))?__oak_push(__oak_push(__Oak_String(`[`),join(map(c,serialize),__Oak_String(`,`))),__Oak_String(`]`)):__oak_eq(__oak_cond,Symbol.for("object"))?__oak_push(__oak_push(__Oak_String(`{`),join(map(keys(c),function _(k=null){return __oak_push(__oak_push(__oak_push(__Oak_String(`"`),escape(k)),__Oak_String(`":`)),serialize(__oak_acc(c,__oak_obj_key(k))))}),__Oak_String(`,`))),__Oak_String(`}`)):null)(type(c))},Reader=function Reader(s=null){return((err__oak_qm,forward,index,next,nextWord,peek)=>(index=0,err__oak_qm=false,next=function next(){return index=__as_oak_string(index+1),__oak_js_default(__oak_acc(s,__oak_obj_key(index-1)),__Oak_String(``))},peek=function peek(){return __oak_js_default(__oak_acc(s,__oak_obj_key(index)),__Oak_String(``))},nextWord=function nextWord(n=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(index=len(s),null):(word=>(word=slice(s,index,__as_oak_string(index+n)),index=__as_oak_string(index+n),word))())(__as_oak_string(index+n)>len(s))},forward=function forward(){return(sub=>(sub=function sub(){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(){return(__oak_cond=>__oak_eq(__oak_cond,true)?(index=__as_oak_string(index+1),__oak_trampoline(__oak_trampolined_sub)):null)(space__oak_qm(peek()))},__oak_resolve_trampoline(__oak_trampolined_sub)))()},sub()))()},{next:next,peek:peek,forward:forward,nextWord:nextWord,done__oak_qm:function _(){return index>=len(s)},err__oak_exclam:function _(){return err__oak_qm=true,Symbol.for("error")},err__oak_qm:function _(){return err__oak_qm}}))()},parseNull=function parseNull(r=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`null`))?null:r.err__oak_exclam())(r.nextWord(4))},parseString=function parseString(r=null){return((next,sub)=>(next=r.next??null,next(),sub=function sub(acc=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null){let c;return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?r.err__oak_exclam():__oak_eq(__oak_cond,__Oak_String(`\\`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`t`))?__Oak_String(`	`):__oak_eq(__oak_cond,__Oak_String(`n`))?__Oak_String(`
`):__oak_eq(__oak_cond,__Oak_String(`r`))?__Oak_String(`
`):__oak_eq(__oak_cond,__Oak_String(`f`))?__Oak_String(``):__oak_eq(__oak_cond,__Oak_String(`"`))?__Oak_String(`"`):c)(c=next()))):__oak_eq(__oak_cond,__Oak_String(`"`))?acc:__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,c)))(c=next())},__oak_resolve_trampoline(__oak_trampolined_sub,acc)))()},sub(__Oak_String(``))))()},parseNumber=function parseNumber(r=null){return((decimal__oak_qm,negate__oak_qm,next,parsed,peek,result,sub)=>(peek=r.peek??null,next=r.next??null,decimal__oak_qm=false,negate__oak_qm=(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`-`))?(next(),true):false)(peek()),sub=function sub(acc=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`.`))?(__oak_cond=>__oak_eq(__oak_cond,true)?r.err__oak_exclam():(decimal__oak_qm=true,__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next()))))(decimal__oak_qm):__oak_eq(__oak_cond,__Oak_String(`0`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`1`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`2`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`3`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`4`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`5`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`6`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`7`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`8`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):__oak_eq(__oak_cond,__Oak_String(`9`))?__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,next())):acc)(peek())},__oak_resolve_trampoline(__oak_trampolined_sub,acc)))()},result=sub(__Oak_String(``)),(__oak_cond=>__oak_eq(__oak_cond,null)?Symbol.for("error"):(__oak_cond=>__oak_eq(__oak_cond,true)?-parsed:parsed)(negate__oak_qm))(parsed=(__oak_cond=>__oak_eq(__oak_cond,true)?float(result):int(result))(decimal__oak_qm))))()},parseTrue=function parseTrue(r=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`true`))?true:r.err__oak_exclam())(r.nextWord(4))},parseFalse=function parseFalse(r=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`false`))?false:r.err__oak_exclam())(r.nextWord(5))},parseList=function parseList(r=null){return((err__oak_qm,forward,next,peek,sub)=>(err__oak_qm=r.err__oak_qm??null,peek=r.peek??null,next=r.next??null,forward=r.forward??null,next(),forward(),sub=function sub(acc=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?Symbol.for("error"):(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?r.err__oak_exclam():__oak_eq(__oak_cond,__Oak_String(`]`))?(next(),acc):(__oak_push(acc,_parseReader(r)),forward(),(__oak_cond=>__oak_eq(__oak_cond,true)?next():null)(__oak_eq(peek(),__Oak_String(`,`))),forward(),__oak_trampoline(__oak_trampolined_sub,acc)))(peek()))(err__oak_qm())},__oak_resolve_trampoline(__oak_trampolined_sub,acc)))()},sub([])))()},parseObject=function parseObject(r=null){return((err__oak_qm,forward,next,peek,sub)=>(err__oak_qm=r.err__oak_qm??null,peek=r.peek??null,next=r.next??null,forward=r.forward??null,next(),forward(),sub=function sub(acc=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?Symbol.for("error"):(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?r.err__oak_exclam():__oak_eq(__oak_cond,__Oak_String(`}`))?(next(),acc):(key=>(key=parseString(r),(__oak_cond=>__oak_eq(__oak_cond,true)?(val=>(forward(),(__oak_cond=>__oak_eq(__oak_cond,true)?next():null)(__oak_eq(peek(),__Oak_String(`:`))),val=_parseReader(r),(__oak_cond=>__oak_eq(__oak_cond,true)?(forward(),(__oak_cond=>__oak_eq(__oak_cond,true)?next():null)(__oak_eq(peek(),__Oak_String(`,`))),forward(),__oak_trampoline(__oak_trampolined_sub,((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(key,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(key)]:__oak_assgn_tgt[__oak_obj_key(key)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(acc),val))):null)(!err__oak_qm())))():null)(!err__oak_qm())))())(peek()))(err__oak_qm())},__oak_resolve_trampoline(__oak_trampolined_sub,acc)))()},sub({})))()},_parseReader=function _parseReader(r=null){return(result=>(r.forward(),result=(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(`n`))?parseNull(r):__oak_eq(__oak_cond,__Oak_String(`"`))?parseString(r):__oak_eq(__oak_cond,__Oak_String(`t`))?parseTrue(r):__oak_eq(__oak_cond,__Oak_String(`f`))?parseFalse(r):__oak_eq(__oak_cond,__Oak_String(`[`))?parseList(r):__oak_eq(__oak_cond,__Oak_String(`{`))?parseObject(r):parseNumber(r))(r.peek()),(__oak_cond=>__oak_eq(__oak_cond,true)?Symbol.for("error"):result)(r.err__oak_qm())))()},parse=function parse(s=null){return _parseReader(Reader(s))},{Reader:Reader,_parseReader:_parseReader,__oak_js_default:__oak_js_default,esc:esc,escape:escape,join:join,map:map,parse:parse,parseFalse:parseFalse,parseList:parseList,parseNull:parseNull,parseNumber:parseNumber,parseObject:parseObject,parseString:parseString,parseTrue:parseTrue,serialize:serialize,slice:slice,space__oak_qm:space__oak_qm}))()}),__oak_modularize(__Oak_String(`math`),function _(){return((E,Pi,abs,bearing,clamp,__oak_js_default,hypot,map,max,mean,median,min,orient,prod,reduce,round,scale,sign,sort,sqrt,stddev,sum)=>({__oak_js_default,map,reduce}=__oak_module_import(__Oak_String(`std`)),{sort}=__oak_module_import(__Oak_String(`sort`)),Pi=3.141592653589793,E=2.718281828459045,sign=function sign(n=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?1:-1)(n>=0)},abs=function abs(n=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?n:-n)(n>=0)},sqrt=function sqrt(n=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?pow(n,.5):null)(n>=0)},hypot=function hypot(x0=null,y0=null,x1=null,y1=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?x1=y1=0:null)((__oak_left=>__oak_left===false?false:__oak_and(__oak_left,__oak_eq(y1,null)))(__oak_eq(x1,null))),sqrt(__as_oak_string((x0-x1)*(x0-x1)+(y0-y1)*(y0-y1)))},scale=function scale(x=null,a=null,b=null,c=null,d=null){return(normed=>(normed=(x-a)/(b-a),(__oak_cond=>__oak_eq(__oak_cond,(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,__oak_eq(d,null)))(__oak_eq(c,null)))?normed:__as_oak_string((d-c)*normed+c))(true)))()},bearing=function bearing(x=null,y=null,d=null,t=null){return[__as_oak_string(x+d*cos(t)),__as_oak_string(y+d*sin(t))]},orient=function orient(x0=null,y0=null,x1=null,y1=null){return((x,y)=>([x=null,y=null]=(__oak_cond=>__oak_eq(__oak_cond,true)?[x0,y0]:[x1-x0,y1-y0])((__oak_left=>__oak_left===false?false:__oak_and(__oak_left,__oak_eq(y1,null)))(__oak_eq(x1,null))),(__oak_cond=>__oak_eq(__oak_cond,x>0)?2*atan(y/__as_oak_string(hypot(x,y)+x)):__oak_eq(__oak_cond,(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,!__oak_eq(y,0)))(x<=0))?2*atan((hypot(x,y)-x)/y):__oak_eq(__oak_cond,(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,__oak_eq(y,0)))(x<0))?Pi:null)(true)))()},sum=function sum(...xs){return reduce(xs,0,function _(a=null,b=null){return __as_oak_string(a+b)})},prod=function prod(...xs){return reduce(xs,1,function _(a=null,b=null){return a*b})},min=function min(...xs){return reduce(xs,__oak_acc(xs,0),function _(acc=null,n=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?n:acc)(n<acc)})},max=function max(...xs){return reduce(xs,__oak_acc(xs,0),function _(acc=null,n=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?n:acc)(n>acc)})},clamp=function clamp(x=null,a=null,b=null){return(__oak_cond=>__oak_eq(__oak_cond,x<a)?a:__oak_eq(__oak_cond,x>b)?b:x)(true)},mean=function mean(xs=null){return(__oak_cond=>__oak_eq(__oak_cond,0)?null:sum(...xs)/len(xs))(len(xs))},median=function median(xs=null){return((count,half)=>(xs=sort(xs),count=len(xs),half=int(count/2),(__oak_cond=>__oak_eq(__oak_cond,count)?null:__oak_eq(__oak_cond,count%2)?__as_oak_string(__oak_acc(xs,__oak_obj_key(half-1))+__oak_acc(xs,__oak_obj_key(half)))/2:__oak_acc(xs,__oak_obj_key(half)))(0)))()},stddev=function stddev(xs=null){let xmean;return(__oak_cond=>__oak_eq(__oak_cond,true)?sqrt(mean(map(xs,function _(x=null){return pow(xmean-x,2)}))):null)(!__oak_eq(null,xmean=mean(xs)))},round=function round(n=null,decimals=null){return decimals=__oak_js_default(int(decimals),0),(__oak_cond=>__oak_eq(__oak_cond,true)?n:(order=>(order=pow(10,decimals),(__oak_cond=>__oak_eq(__oak_cond,true)?int(__as_oak_string(n*order+.5))/order:-int(__as_oak_string(-n*order+.5))/order)(n>=0)))())(decimals<0)},{E:E,Pi:Pi,abs:abs,bearing:bearing,clamp:clamp,__oak_js_default:__oak_js_default,hypot:hypot,map:map,max:max,mean:mean,median:median,min:min,orient:orient,prod:prod,reduce:reduce,round:round,scale:scale,sign:sign,sort:sort,sqrt:sqrt,stddev:stddev,sum:sum}))()}),__oak_modularize(__Oak_String(`path`),function _(){return((_lastSlash,abs__oak_qm,base,clean,cut,__oak_js_default,dir,filter,join,reduce,rel__oak_qm,resolve,slice,split,strJoin,strSplit,trimEnd)=>({__oak_js_default,slice,filter,reduce}=__oak_module_import(__Oak_String(`std`)),{join:strJoin=null,split:strSplit=null,trimEnd}=__oak_module_import(__Oak_String(`str`)),abs__oak_qm=function abs__oak_qm(path=null){return __oak_eq(__oak_acc(path,0),__Oak_String(`/`))},rel__oak_qm=function rel__oak_qm(path=null){return!__oak_eq(__oak_acc(path,0),__Oak_String(`/`))},_lastSlash=function _lastSlash(path=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?0:(sub=>(sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,null)?i:__oak_eq(__oak_cond,__Oak_String(`/`))?i:__oak_trampoline(__oak_trampolined_sub,i-1))(__oak_acc(path,__oak_obj_key(i)))},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},sub(len(path)-1)))())(path)},dir=function dir(path=null){return path=trimEnd(path,__Oak_String(`/`)),slice(path,0,_lastSlash(path))},base=function base(path=null){return path=trimEnd(path,__Oak_String(`/`)),slice(path,__as_oak_string(_lastSlash(path)+1))},cut=function cut(path=null){return(lastSlash=>(path=trimEnd(path,__Oak_String(`/`)),lastSlash=_lastSlash(path),[slice(path,0,lastSlash),slice(path,__as_oak_string(lastSlash+1))]))()},clean=function clean(path=null){return((cleaned,rooted)=>(rooted=__oak_eq(__oak_acc(path,0),__Oak_String(`/`)),cleaned=strJoin(reduce(strSplit(path,__Oak_String(`/`)),[],function _(parts=null,part=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?parts:__oak_eq(__oak_cond,__Oak_String(`.`))?parts:__oak_eq(__oak_cond,__Oak_String(`..`))?(__oak_cond=>__oak_eq(__oak_cond,0)?__oak_push(parts,part):slice(parts,0,len(parts)-1))(i):__oak_push(parts,part))(part)}),__Oak_String(`/`)),(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_push(__Oak_String(`/`),cleaned):cleaned)(rooted)))()},join=function join(...parts){return clean(reduce(parts,__Oak_String(``),function _(base=null,path=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?__oak_push(__Oak_String(``),path):__oak_push(__oak_push(base,__Oak_String(`/`)),path))(base)}))},split=function split(path=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?[]:filter(strSplit(path,__Oak_String(`/`)),function _(s=null){return!__oak_eq(s,__Oak_String(``))}))(trimEnd(path,__Oak_String(`/`)))},resolve=function resolve(path=null,base=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?path:join(__oak_js_default(base,env().PWD??null),path))(abs__oak_qm(path))},{_lastSlash:_lastSlash,abs__oak_qm:abs__oak_qm,base:base,clean:clean,cut:cut,__oak_js_default:__oak_js_default,dir:dir,filter:filter,join:join,reduce:reduce,rel__oak_qm:rel__oak_qm,resolve:resolve,slice:slice,split:split,strJoin:strJoin,strSplit:strSplit,trimEnd:trimEnd}))()}),__oak_modularize(__Oak_String(`random`),function _(){return((boolean,choice,integer,number)=>(boolean=function boolean(){return rand()>.5},integer=function integer(min=null,max=null){return int(number(int(min),int(max)))},number=function number(min=null,max=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?[min=null,max=null]=[0,min]:null)(__oak_eq(max,null)),__as_oak_string(min+rand()*(max-min))},choice=function choice(list=null){return __oak_acc(list,__oak_obj_key(integer(0,len(list))))},{boolean:boolean,choice:choice,integer:integer,number:number}))()}),__oak_modularize(__Oak_String(`sort`),function _(){return((clone,__oak_js_default,id,map,sort,sort__oak_exclam)=>({__oak_js_default,identity:id=null,map,clone}=__oak_module_import(__Oak_String(`std`)),sort__oak_exclam=function sort__oak_exclam(xs=null,pred=null){return((partition,quicksort,vpred)=>(pred=__oak_js_default(pred,id),vpred=map(xs,pred),partition=function partition(xs=null,lo=null,hi=null){return((lsub,pivot,rsub,sub)=>(pivot=__oak_acc(vpred,__oak_obj_key(lo)),lsub=function lsub(i=null){return(__oak_trampolined_lsub=>(__oak_trampolined_lsub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_lsub,__as_oak_string(i+1)):i)(__oak_acc(vpred,__oak_obj_key(i))<pivot)},__oak_resolve_trampoline(__oak_trampolined_lsub,i)))()},rsub=function rsub(j=null){return(__oak_trampolined_rsub=>(__oak_trampolined_rsub=function _(j=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_rsub,j-1):j)(__oak_acc(vpred,__oak_obj_key(j))>pivot)},__oak_resolve_trampoline(__oak_trampolined_rsub,j)))()},sub=function sub(i=null,j=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null,j=null){return i=lsub(i),j=rsub(j),(__oak_cond=>__oak_eq(__oak_cond,false)?j:((tmp,tmpPred)=>(tmp=__oak_acc(xs,__oak_obj_key(i)),tmpPred=__oak_acc(vpred,__oak_obj_key(i)),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(i,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(i)]:__oak_assgn_tgt[__oak_obj_key(i)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(xs),__oak_acc(xs,__oak_obj_key(j))),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(j,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(j)]:__oak_assgn_tgt[__oak_obj_key(j)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(xs),tmp),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(i,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(i)]:__oak_assgn_tgt[__oak_obj_key(i)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(vpred),__oak_acc(vpred,__oak_obj_key(j))),((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(j,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(j)]:__oak_assgn_tgt[__oak_obj_key(j)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(vpred),tmpPred),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1),j-1)))())(i<j)},__oak_resolve_trampoline(__oak_trampolined_sub,i,j)))()},sub(lo,hi)))()},quicksort=function quicksort(xs=null,lo=null,hi=null){return(__oak_trampolined_quicksort=>(__oak_trampolined_quicksort=function _(xs=null,lo=null,hi=null){return(__oak_cond=>__oak_eq(__oak_cond,0)?xs:__oak_eq(__oak_cond,1)?xs:(__oak_cond=>__oak_eq(__oak_cond,false)?xs:(p=>(p=partition(xs,lo,hi),quicksort(xs,lo,p),__oak_trampoline(__oak_trampolined_quicksort,xs,__as_oak_string(p+1),hi)))())(lo<hi))(len(xs))},__oak_resolve_trampoline(__oak_trampolined_quicksort,xs,lo,hi)))()},quicksort(xs,0,len(xs)-1)))()},sort=function sort(xs=null,pred=null){return sort__oak_exclam(clone(xs),pred)},{clone:clone,__oak_js_default:__oak_js_default,id:id,map:map,sort:sort,sort__oak_exclam:sort__oak_exclam}))()}),__oak_modularize(__Oak_String(`std`),function _(){return((_asPredicate,_baseIterator,_hToN,_nToH,append,clamp,clone,compact,contains__oak_qm,debounce,__oak_js_default,each,entries,every,filter,find,first,flatten,fromHex,identity,indexOf,join,last,loop,map,merge,once,partition,println,range,reduce,reverse,slice,some,stdin,take,takeLast,toHex,uniq,values,zip)=>(identity=function identity(x=null){return x},_baseIterator=function _baseIterator(v=null){return(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("string"))?__Oak_String(``):__oak_eq(__oak_cond,Symbol.for("list"))?[]:__oak_eq(__oak_cond,Symbol.for("object"))?{}:null)(type(v))},_asPredicate=function _asPredicate(pred=null){return(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("atom"))?(prop=>(prop=string(pred),function _(x=null){return __oak_acc(x,__oak_obj_key(prop))}))():__oak_eq(__oak_cond,Symbol.for("string"))?function _(x=null){return __oak_acc(x,__oak_obj_key(pred))}:__oak_eq(__oak_cond,Symbol.for("int"))?function _(x=null){return __oak_acc(x,__oak_obj_key(pred))}:pred)(type(pred))},__oak_js_default=function __oak_js_default(x=null,base=null){return(__oak_cond=>__oak_eq(__oak_cond,null)?base:x)(x)},_nToH=__Oak_String(`0123456789abcdef`),toHex=function toHex(n=null){return(sub=>(sub=function sub(p=null,acc=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(p=null,acc=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?__as_oak_string(__oak_acc(_nToH,__oak_obj_key(p))+acc):__oak_trampoline(__oak_trampolined_sub,int(p/16),__as_oak_string(__oak_acc(_nToH,__oak_obj_key(p%16))+acc)))(p<16)},__oak_resolve_trampoline(__oak_trampolined_sub,p,acc)))()},sub(int(n),__Oak_String(``))))()},_hToN={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},fromHex=function fromHex(s=null){return(sub=>(sub=function sub(i=null,acc=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null,acc=null){let next;return(__oak_cond=>__oak_eq(__oak_cond,__oak_eq(i,len(s)))?acc:__oak_eq(__oak_cond,!__oak_eq(null,next=__oak_acc(_hToN,__oak_obj_key(__oak_acc(s,__oak_obj_key(i))))))?__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1),__as_oak_string(acc*16+next)):null)(true)},__oak_resolve_trampoline(__oak_trampolined_sub,i,acc)))()},sub(0,0)))()},clamp=function clamp(min=null,max=null,n=null,m=null){return n=(__oak_cond=>__oak_eq(__oak_cond,true)?min:n)(n<min),m=(__oak_cond=>__oak_eq(__oak_cond,true)?min:m)(m<min),m=(__oak_cond=>__oak_eq(__oak_cond,true)?max:m)(m>max),n=(__oak_cond=>__oak_eq(__oak_cond,true)?m:n)(n>m),[n,m]},slice=function slice(xs=null,min=null,max=null){return(sub=>(min=__oak_js_default(min,0),max=__oak_js_default(max,len(xs)),[min=null,max=null]=clamp(0,len(xs),min,max),sub=function sub(acc=null,i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,max)?acc:__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,__oak_acc(xs,__oak_obj_key(i))),__as_oak_string(i+1)))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,acc,i)))()},sub(_baseIterator(xs),min)))()},clone=function clone(x=null){return(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("string"))?__as_oak_string(__Oak_String(``)+x):__oak_eq(__oak_cond,Symbol.for("list"))?slice(x):__oak_eq(__oak_cond,Symbol.for("object"))?reduce(keys(x),{},function _(acc=null,key=null){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(key,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(key)]:__oak_assgn_tgt[__oak_obj_key(key)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(acc),__oak_acc(x,__oak_obj_key(key)))}):x)(type(x))},range=function range(start=null,end=null,step=null){return step=__oak_js_default(step,1),(__oak_cond=>__oak_eq(__oak_cond,true)?[start=null,end=null]=[0,start]:null)(__oak_eq(end,null)),(__oak_cond=>__oak_eq(__oak_cond,0)?[]:((list,sub)=>(list=[],(__oak_cond=>__oak_eq(__oak_cond,true)?sub=function sub(n=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(n=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_push(list,n),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(n+step))):list)(n<end)},__oak_resolve_trampoline(__oak_trampolined_sub,n)))()}:sub=function sub(n=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(n=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_push(list,n),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(n+step))):list)(n>end)},__oak_resolve_trampoline(__oak_trampolined_sub,n)))()})(step>0),sub(start)))())(step)},reverse=function reverse(xs=null){return(sub=>(sub=function sub(acc=null,i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?acc:__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,__oak_acc(xs,__oak_obj_key(i))),i-1))(i<0)},__oak_resolve_trampoline(__oak_trampolined_sub,acc,i)))()},sub(_baseIterator(xs),len(xs)-1)))()},map=function map(xs=null,f=null){return(sub=>(f=_asPredicate(f),sub=function sub(acc=null,i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,len(xs))?acc:__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,f(__oak_acc(xs,__oak_obj_key(i)),i)),__as_oak_string(i+1)))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,acc,i)))()},sub(_baseIterator(xs),0)))()},each=function each(xs=null,f=null){return(sub=>(sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,len(xs))?null:(f(__oak_acc(xs,__oak_obj_key(i)),i),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1))))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},sub(0)))()},filter=function filter(xs=null,f=null){return(sub=>(f=_asPredicate(f),sub=function sub(acc=null,i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,len(xs))?acc:(x=>((__oak_cond=>__oak_eq(__oak_cond,true)?__oak_push(acc,x):null)(f(x=__oak_acc(xs,__oak_obj_key(i)),i)),__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1))))())(i)},__oak_resolve_trampoline(__oak_trampolined_sub,acc,i)))()},sub(_baseIterator(xs),0)))()},reduce=function reduce(xs=null,seed=null,f=null){return(sub=>(sub=function sub(acc=null,i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,len(xs))?acc:__oak_trampoline(__oak_trampolined_sub,f(acc,__oak_acc(xs,__oak_obj_key(i)),i),__as_oak_string(i+1)))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,acc,i)))()},sub(seed,0)))()},flatten=function flatten(xs=null){return reduce(xs,[],append)},compact=function compact(xs=null){return filter(xs,function _(x=null){return!__oak_eq(x,null)})},some=function some(xs=null,pred=null){return pred=__oak_js_default(pred,identity),reduce(xs,false,function _(acc=null,x=null,i=null){return(__oak_left=>__oak_left===true?true:__oak_or(__oak_left,pred(x,i)))(acc)})},every=function every(xs=null,pred=null){return pred=__oak_js_default(pred,identity),reduce(xs,true,function _(acc=null,x=null,i=null){return(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,pred(x,i)))(acc)})},append=function append(xs=null,ys=null){return reduce(ys,xs,function _(zs=null,y=null){return __oak_push(zs,y)})},join=function join(xs=null,ys=null){return append(clone(xs),ys)},zip=function zip(xs=null,ys=null,zipper=null){return((max,sub)=>(zipper=__oak_js_default(zipper,function _(x=null,y=null){return[x,y]}),max=(__oak_cond=>__oak_eq(__oak_cond,true)?len(xs):len(ys))(len(xs)<len(ys)),sub=function sub(acc=null,i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,max)?acc:__oak_trampoline(__oak_trampolined_sub,__oak_push(acc,zipper(__oak_acc(xs,__oak_obj_key(i)),__oak_acc(ys,__oak_obj_key(i)),i)),__as_oak_string(i+1)))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,acc,i)))()},sub([],0)))()},partition=function partition(xs=null,by=null){return(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("int"))?reduce(xs,[],function _(acc=null,x=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,0)?__oak_push(acc,[x]):(__oak_push(__oak_acc(acc,__oak_obj_key(len(acc)-1)),x),acc))(i%by)}):__oak_eq(__oak_cond,Symbol.for("function"))?(last=>(last=function _(){return null},reduce(xs,[],function _(acc=null,x=null){return(__oak_js_this=>((__oak_cond=>__oak_eq(__oak_cond,last)?__oak_push(__oak_acc(acc,__oak_obj_key(len(acc)-1)),x):__oak_push(acc,[x]))(__oak_js_this=by(x)),last=__oak_js_this,acc))()})))():null)(type(by))},uniq=function uniq(xs=null,pred=null){return((last,sub,ys)=>(pred=__oak_js_default(pred,identity),ys=_baseIterator(xs),last=function _(){return null},sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){let p;let x;return(__oak_cond=>__oak_eq(__oak_cond,len(xs))?ys:(__oak_cond=>__oak_eq(__oak_cond,last)?__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)):(__oak_push(ys,x),last=p,__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1))))(p=pred(x=__oak_acc(xs,__oak_obj_key(i)))))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},sub(0)))()},first=function first(xs=null){return __oak_acc(xs,0)},last=function last(xs=null){return __oak_acc(xs,__oak_obj_key(len(xs)-1))},take=function take(xs=null,n=null){return slice(xs,0,n)},takeLast=function takeLast(xs=null,n=null){return slice(xs,len(xs)-n)},find=function find(xs=null,pred=null){return(sub=>(sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,len(xs))?-1:(__oak_cond=>__oak_eq(__oak_cond,true)?i:__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))(pred(__oak_acc(xs,__oak_obj_key(i)))))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},sub(0)))()},indexOf=function indexOf(xs=null,x=null){return(sub=>(sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,len(xs))?-1:(__oak_cond=>__oak_eq(__oak_cond,x)?i:__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)))(__oak_acc(xs,__oak_obj_key(i))))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},sub(0)))()},contains__oak_qm=function contains__oak_qm(xs=null,x=null){return indexOf(xs,x)>-1},values=function values(obj=null){return map(keys(obj),function _(key=null){return __oak_acc(obj,__oak_obj_key(key))})},entries=function entries(obj=null){return map(keys(obj),function _(key=null){return[key,__oak_acc(obj,__oak_obj_key(key))]})},merge=function merge(...os){return(__oak_cond=>__oak_eq(__oak_cond,0)?null:reduce(os,__oak_acc(os,0),function _(acc=null,o=null){return reduce(keys(o),acc,function _(root=null,k=null){return((__oak_assgn_tgt,__oak_assgn_val)=>(__is_oak_string(__oak_assgn_tgt)?__oak_assgn_tgt.assign(k,__oak_assgn_val):__oak_assgn_val===__Oak_Empty?delete __oak_assgn_tgt[__oak_obj_key(k)]:__oak_assgn_tgt[__oak_obj_key(k)]=__oak_assgn_val,__oak_assgn_tgt))(__as_oak_string(root),__oak_acc(o,__oak_obj_key(k)))})}))(len(os))},once=function once(f=null){return(called__oak_qm=>(called__oak_qm=false,function _(...args){return(__oak_cond=>__oak_eq(__oak_cond,true)?(called__oak_qm=true,f(...args)):null)(!called__oak_qm)}))()},loop=function loop(max=null,f=null){return((breaker,broken,ret,sub)=>((__oak_cond=>__oak_eq(__oak_cond,true)?[max=null,f=null]=[-1,max]:null)(__oak_eq(f,null)),max=__oak_js_default(max,-1),ret=null,broken=false,breaker=function breaker(x=null){return ret=x,broken=true},sub=function sub(count=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(count=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_cond=>__oak_eq(__oak_cond,broken)?ret:(f(count,breaker),__oak_trampoline(__oak_trampolined_sub,__as_oak_string(count+1))))(true):null)(!__oak_eq(count,max))},__oak_resolve_trampoline(__oak_trampolined_sub,count)))()},sub(0)))()},debounce=function debounce(duration=null,firstCall=null,f=null){return((dargs,debounced,target,waiting__oak_qm)=>((__oak_cond=>__oak_eq(__oak_cond,true)?[firstCall=null,f=null]=[Symbol.for("trailing"),firstCall]:null)(__oak_eq(f,null)),dargs=null,waiting__oak_qm=false,target=time()-duration,debounced=function debounced(...args){return(tcall=>(tcall=time(),dargs=args,(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_cond=>__oak_eq(__oak_cond,true)?(target=__as_oak_string(tcall+duration),(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("leading"))?f(...dargs):__oak_eq(__oak_cond,Symbol.for("trailing"))?(waiting__oak_qm=true,wait(target-time(),function _(){return waiting__oak_qm=false,f(...dargs)})):null)(firstCall)):(timeout=>(waiting__oak_qm=true,timeout=target-tcall,target=__as_oak_string(target+duration),wait(timeout,function _(){return waiting__oak_qm=false,f(...dargs)})))())(target<=tcall):null)(!waiting__oak_qm)))()}))()},stdin=function stdin(){return(file=>(file=__Oak_String(``),loop(function _(__oak_empty_ident0=null,__oak_js_break=null){return(evt=>(evt=input(),__oak_push(file,evt.data??null),(__oak_cond=>__oak_eq(__oak_cond,Symbol.for("error"))?__oak_js_break(file):__oak_push(file,__Oak_String(`
`)))(evt.type??null)))()})))()},println=function println(...xs){return(__oak_cond=>__oak_eq(__oak_cond,0)?print(__Oak_String(`
`)):(out=>(out=reduce(slice(xs,1),string(__oak_acc(xs,0)),function _(acc=null,x=null){return __as_oak_string(__as_oak_string(acc+__Oak_String(` `))+string(x))}),print(__as_oak_string(out+__Oak_String(`
`)))))())(len(xs))},{_asPredicate:_asPredicate,_baseIterator:_baseIterator,_hToN:_hToN,_nToH:_nToH,append:append,clamp:clamp,clone:clone,compact:compact,contains__oak_qm:contains__oak_qm,debounce:debounce,__oak_js_default:__oak_js_default,each:each,entries:entries,every:every,filter:filter,find:find,first:first,flatten:flatten,fromHex:fromHex,identity:identity,indexOf:indexOf,join:join,last:last,loop:loop,map:map,merge:merge,once:once,partition:partition,println:println,range:range,reduce:reduce,reverse:reverse,slice:slice,some:some,stdin:stdin,take:take,takeLast:takeLast,toHex:toHex,uniq:uniq,values:values,zip:zip}))()}),__oak_modularize(__Oak_String(`str`),function _(){return((_extend,_matchesAt__oak_qm,_replaceNonEmpty,_splitNonEmpty,_trimEndNonEmpty,_trimEndSpace,_trimStartNonEmpty,_trimStartSpace,checkRange,contains__oak_qm,cut,__oak_js_default,digit__oak_qm,endsWith__oak_qm,indexOf,join,letter__oak_qm,lower,lower__oak_qm,padEnd,padStart,reduce,replace,slice,space__oak_qm,split,startsWith__oak_qm,take,takeLast,trim,trimEnd,trimStart,upper,upper__oak_qm,word__oak_qm)=>({__oak_js_default,slice,take,takeLast,reduce}=__oak_module_import(__Oak_String(`std`)),checkRange=function checkRange(lo=null,hi=null){let checker;return checker=function checker(c=null){return(p=>(p=codepoint(c),(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,p<=hi))(lo<=p)))()}},upper__oak_qm=function upper__oak_qm(c=null){return(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,c<=__Oak_String(`Z`)))(c>=__Oak_String(`A`))},lower__oak_qm=function lower__oak_qm(c=null){return(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,c<=__Oak_String(`z`)))(c>=__Oak_String(`a`))},digit__oak_qm=function digit__oak_qm(c=null){return(__oak_left=>__oak_left===false?false:__oak_and(__oak_left,c<=__Oak_String(`9`)))(c>=__Oak_String(`0`))},space__oak_qm=function space__oak_qm(c=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(` `))?true:__oak_eq(__oak_cond,__Oak_String(`	`))?true:__oak_eq(__oak_cond,__Oak_String(`
`))?true:__oak_eq(__oak_cond,__Oak_String(`
`))?true:__oak_eq(__oak_cond,__Oak_String(``))?true:false)(c)},letter__oak_qm=function letter__oak_qm(c=null){return(__oak_left=>__oak_left===true?true:__oak_or(__oak_left,lower__oak_qm(c)))(upper__oak_qm(c))},word__oak_qm=function word__oak_qm(c=null){return(__oak_left=>__oak_left===true?true:__oak_or(__oak_left,digit__oak_qm(c)))(letter__oak_qm(c))},join=function join(strings=null,joiner=null){return joiner=__oak_js_default(joiner,__Oak_String(``)),(__oak_cond=>__oak_eq(__oak_cond,0)?__Oak_String(``):reduce(slice(strings,1),__oak_acc(strings,0),function _(a=null,b=null){return __as_oak_string(__as_oak_string(a+joiner)+b)}))(len(strings))},startsWith__oak_qm=function startsWith__oak_qm(s=null,prefix=null){return __oak_eq(take(s,len(prefix)),prefix)},endsWith__oak_qm=function endsWith__oak_qm(s=null,suffix=null){return __oak_eq(takeLast(s,len(suffix)),suffix)},_matchesAt__oak_qm=function _matchesAt__oak_qm(s=null,substr=null,idx=null){return(__oak_cond=>__oak_eq(__oak_cond,0)?true:__oak_eq(__oak_cond,1)?__oak_eq(__oak_acc(s,__oak_obj_key(idx)),substr):((max,sub)=>(max=len(substr),sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,max)?true:(__oak_cond=>__oak_eq(__oak_cond,__oak_acc(substr,__oak_obj_key(i)))?__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)):false)(__oak_acc(s,__oak_obj_key(__as_oak_string(idx+i)))))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},sub(0)))())(len(substr))},indexOf=function indexOf(s=null,substr=null){return((max,sub)=>(max=len(s)-len(substr),sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?i:(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+1)):-1)(i<max))(_matchesAt__oak_qm(s,substr,i))},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},sub(0)))()},contains__oak_qm=function contains__oak_qm(s=null,substr=null){return indexOf(s,substr)>=0},cut=function cut(s=null,sep=null){let idx;return(__oak_cond=>__oak_eq(__oak_cond,-1)?[s,__Oak_String(``)]:[slice(s,0,idx),slice(s,__as_oak_string(idx+len(sep)))])(idx=indexOf(s,sep))},lower=function lower(s=null){return reduce(s,__Oak_String(``),function _(acc=null,c=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_push(acc,char(__as_oak_string(codepoint(c)+32))):__oak_push(acc,c))(upper__oak_qm(c))})},upper=function upper(s=null){return reduce(s,__Oak_String(``),function _(acc=null,c=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_push(acc,char(codepoint(c)-32)):__oak_push(acc,c))(lower__oak_qm(c))})},_replaceNonEmpty=function _replaceNonEmpty(s=null,old=null,__oak_js_new=null){return((lnew,lold,sub)=>(lold=len(old),lnew=len(__oak_js_new),sub=function sub(acc=null,i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_sub,__as_oak_string(__as_oak_string(slice(acc,0,i)+__oak_js_new)+slice(acc,__as_oak_string(i+lold))),__as_oak_string(i+lnew)):(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1)):acc)(i<len(acc)))(_matchesAt__oak_qm(acc,old,i))},__oak_resolve_trampoline(__oak_trampolined_sub,acc,i)))()},sub(s,0)))()},replace=function replace(s=null,old=null,__oak_js_new=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?s:_replaceNonEmpty(s,old,__oak_js_new))(old)},_splitNonEmpty=function _splitNonEmpty(s=null,sep=null){return((coll,lsep,sub)=>(coll=[],lsep=len(sep),sub=function sub(acc=null,i=null,last=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(acc=null,i=null,last=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_push(coll,slice(acc,last,i)),__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+lsep),__as_oak_string(i+lsep))):(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_sub,acc,__as_oak_string(i+1),last):__oak_push(coll,slice(acc,last)))(i<len(acc)))(_matchesAt__oak_qm(acc,sep,i))},__oak_resolve_trampoline(__oak_trampolined_sub,acc,i,last)))()},sub(s,0,0)))()},split=function split(s=null,sep=null){return(__oak_cond=>__oak_eq(__oak_cond,null)?reduce(s,[],function _(acc=null,c=null){return __oak_push(acc,c)}):__oak_eq(__oak_cond,__Oak_String(``))?reduce(s,[],function _(acc=null,c=null){return __oak_push(acc,c)}):_splitNonEmpty(s,sep))(sep)},_extend=function _extend(pad=null,n=null){return((part,sub,times)=>(times=int(n/len(pad)),part=n%len(pad),sub=function sub(base=null,i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(base=null,i=null){return(__oak_cond=>__oak_eq(__oak_cond,0)?__oak_push(base,slice(pad,0,part)):__oak_trampoline(__oak_trampolined_sub,__oak_push(base,pad),i-1))(i)},__oak_resolve_trampoline(__oak_trampolined_sub,base,i)))()},sub(__Oak_String(``),times)))()},padStart=function padStart(s=null,n=null,pad=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?s:__oak_push(_extend(pad,n-len(s)),s))(len(s)>=n)},padEnd=function padEnd(s=null,n=null,pad=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?s:__as_oak_string(s+_extend(pad,n-len(s))))(len(s)>=n)},_trimStartSpace=function _trimStartSpace(s=null){return((firstNonSpace,subStart)=>(subStart=function subStart(i=null){return(__oak_trampolined_subStart=>(__oak_trampolined_subStart=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_subStart,__as_oak_string(i+1)):i)(space__oak_qm(__oak_acc(s,__oak_obj_key(i))))},__oak_resolve_trampoline(__oak_trampolined_subStart,i)))()},firstNonSpace=subStart(0),slice(s,firstNonSpace)))()},_trimStartNonEmpty=function _trimStartNonEmpty(s=null,prefix=null){return((idx,lpref,max,sub)=>(max=len(s),lpref=len(prefix),sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_sub,__as_oak_string(i+lpref)):i)(_matchesAt__oak_qm(s,prefix,i)):i)(i<max)},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},idx=sub(0),slice(s,idx)))()},trimStart=function trimStart(s=null,prefix=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?s:__oak_eq(__oak_cond,null)?_trimStartSpace(s):_trimStartNonEmpty(s,prefix))(prefix)},_trimEndSpace=function _trimEndSpace(s=null){return((lastNonSpace,subEnd)=>(subEnd=function subEnd(i=null){return(__oak_trampolined_subEnd=>(__oak_trampolined_subEnd=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_subEnd,i-1):i)(space__oak_qm(__oak_acc(s,__oak_obj_key(i))))},__oak_resolve_trampoline(__oak_trampolined_subEnd,i)))()},lastNonSpace=subEnd(len(s)-1),slice(s,0,__as_oak_string(lastNonSpace+1))))()},_trimEndNonEmpty=function _trimEndNonEmpty(s=null,suffix=null){return((idx,lsuf,sub)=>(lsuf=len(suffix),sub=function sub(i=null){return(__oak_trampolined_sub=>(__oak_trampolined_sub=function _(i=null){return(__oak_cond=>__oak_eq(__oak_cond,true)?(__oak_cond=>__oak_eq(__oak_cond,true)?__oak_trampoline(__oak_trampolined_sub,i-lsuf):i)(_matchesAt__oak_qm(s,suffix,i-lsuf)):i)(i>-1)},__oak_resolve_trampoline(__oak_trampolined_sub,i)))()},idx=sub(len(s)),slice(s,0,idx)))()},trimEnd=function trimEnd(s=null,suffix=null){return(__oak_cond=>__oak_eq(__oak_cond,__Oak_String(``))?s:__oak_eq(__oak_cond,null)?_trimEndSpace(s):_trimEndNonEmpty(s,suffix))(suffix)},trim=function trim(s=null,part=null){return trimEnd(trimStart(s,part),part)},{_extend:_extend,_matchesAt__oak_qm:_matchesAt__oak_qm,_replaceNonEmpty:_replaceNonEmpty,_splitNonEmpty:_splitNonEmpty,_trimEndNonEmpty:_trimEndNonEmpty,_trimEndSpace:_trimEndSpace,_trimStartNonEmpty:_trimStartNonEmpty,_trimStartSpace:_trimStartSpace,checkRange:checkRange,contains__oak_qm:contains__oak_qm,cut:cut,__oak_js_default:__oak_js_default,digit__oak_qm:digit__oak_qm,endsWith__oak_qm:endsWith__oak_qm,indexOf:indexOf,join:join,letter__oak_qm:letter__oak_qm,lower:lower,lower__oak_qm:lower__oak_qm,padEnd:padEnd,padStart:padStart,reduce:reduce,replace:replace,slice:slice,space__oak_qm:space__oak_qm,split:split,startsWith__oak_qm:startsWith__oak_qm,take:take,takeLast:takeLast,trim:trim,trimEnd:trimEnd,trimStart:trimStart,upper:upper,upper__oak_qm:upper__oak_qm,word__oak_qm:word__oak_qm}))()}),__Oak_Import_Aliases={},__oak_module_import(__Oak_String(`web/entry.oak`));